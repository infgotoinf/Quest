# Quest!
## О программе
Quest! - это игра-квест с 15-ю концовками и 40-ка полноценными выборами, написанная на C# с использованием консольного интерфейса и базы данных Postgress. В игре есть разные типы выборов, большие развилки и большое количество вопросов и концовок.
## Диаграммы
Диаграмма классов:

![image](https://github.com/user-attachments/assets/7a829245-f9f3-4e8e-badf-5bd346a0575c)

Диаграмма последовательности:

![Снимок экрана 2025-05-20 082813](https://github.com/user-attachments/assets/728cac2f-53fd-483c-8cbc-1acd1dfe2a55)

Диарамма использования:

![Снимок экрана 2025-05-22 130326](https://github.com/user-attachments/assets/000ba8a5-4eda-49ee-a48d-a5501888a304)
## БД
Бд представляет из себя большую древавидную структуру выборов. Вот так она выглядит в Obsidian:

![image](https://github.com/user-attachments/assets/7508903b-c945-430d-9e71-37d90a8d5bed)

Вот реализация классов БД в Postgress:

![image](https://github.com/user-attachments/assets/745d85c9-0b53-4f25-a542-c6c0fd1f9309)

База данных инициализируется и заполняется данными в C#.
## Интерфейс (слой консоли)
У класса Choice есть абстрактный метод MakeChoice(), который, в зависимости от конкретной реализации выбора, ведёт себя по разному. На нём построен весь интерфейс: он запрашивает данные у пользователя, проверяет их корректность, выводит текст конкретного выбора и какой выбор в нём можно совершить, отчищает консоль.

## Слой работы с БД
В классе AppDbContext происходит подключение к БД и создание всех DbSetов. Класс Database использует AppDbContext для создания контекста, который может быть инициализирован данными или удалён.

## Классы
Родителем всех классов является абстрактный Choise с полями:
- Id - ключ
- Text - текст с контекстом перед возможными выборами
- ChoiseId - Id выборов, к которым можно перейти из текущего
- ChoisesText - текст выборов

Также у этого класса есть абстрактный метод MakeChoise, отвечающий за осуществление совершения выбора и зависящий от конкретной реализации класса. Всего таких классов, основанных на Choise, 6:
- BasicChoise - спрашивает пользователя его выбор в виде числа
- CoolChoise - cпрашивает пользователя его выбор в виде строчки, при этом не показывая возможные варианты ответов
- TimeLimitedChoise - cпрашивает пользователя его выбор в виде числа, но ограничивает время на выбор
- RandowChoise - делает случайный выбор за пользователя
- StrangeChoise - cпрашивает пользователя его выбор в виде буквы
- EndMessage - выводит пользователю сообщение и за тем перекидывает в начало игры
